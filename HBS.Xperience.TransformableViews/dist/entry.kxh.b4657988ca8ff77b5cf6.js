System.register(["@kentico/xperience-admin-base","@kentico/xperience-admin-components","react"],(function(e,t){var a={},n={},r={};return{setters:[function(e){a.useFormComponentCommandProvider=e.useFormComponentCommandProvider,a.usePageCommand=e.usePageCommand},function(e){n.Button=e.Button,n.ButtonColor=e.ButtonColor,n.CodeEditor=e.CodeEditor,n.Cols=e.Cols,n.Column=e.Column,n.Dialog=e.Dialog,n.Divider=e.Divider,n.DividerOrientation=e.DividerOrientation,n.DropPlacement=e.DropPlacement,n.FormItemWrapper=e.FormItemWrapper,n.Grid=e.Grid,n.Headline=e.Headline,n.HeadlineSize=e.HeadlineSize,n.Icon=e.Icon,n.Input=e.Input,n.Paper=e.Paper,n.Row=e.Row,n.Spacing=e.Spacing,n.TextArea=e.TextArea,n.TextWithLabel=e.TextWithLabel,n.TreeNode=e.TreeNode,n.TreeNodeLeadingIcon=e.TreeNodeLeadingIcon,n.TreeNodeTitle=e.TreeNodeTitle,n.TreeNodeTrailingIcon=e.TreeNodeTrailingIcon,n.TreeView=e.TreeView,n.WindowPortal=e.WindowPortal,n.useWindowDimensions=e.useWindowDimensions},function(e){r.createContext=e.createContext,r.default=e.default,r.useContext=e.useContext,r.useEffect=e.useEffect,r.useMemo=e.useMemo,r.useReducer=e.useReducer,r.useRef=e.useRef,r.useState=e.useState}],execute:function(){e((()=>{var e={531:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var n=a(81),r=a.n(n),l=a(645),o=a.n(l)()(r());o.push([e.id,".icon-clickable {\n    padding: 5px;\n    color: darkgray;\n    border-radius: 5px\n}\n    .icon-clickable.delete {\n        color: red;\n        margin-right: 5px;\n    }\n    .icon-clickable.add {\n        color: green;\n    }\n    .icon-clickable:hover {\n        opacity: 0.8;\n        background-color: darkgray;\n        color: white;\n    }\n    .icon-clickable.add:hover {\n        background-color: green;\n    }\n\n    .icon-clickable.delete:hover {\n        background-color: red;\n    }\n\n.treeview-wrapper {\n    padding: 20px;\n}\n\n.views-wrapper {\n    padding: 20px;\n}\n\n.grid-view-item {\n    padding: 10px;\n    border-radius: 10px;\n    border: 1px solid #eee;\n    color: #333;\n    cursor: pointer;\n    display: flex;\n    flex-direction: row\n}\n.grid-view-item:hover {\n    background-color: lightgray;\n}",""]);const i=o},404:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var n=a(81),r=a.n(n),l=a(645),o=a.n(l)()(r());o.push([e.id,".trbv-select-list-item {\n    margin: 7px auto;\n    display: flex;\n    gap: 10px;\n    padding: 10px;\n    border: 1px solid darkgrey;\n    cursor: pointer;\n    transition: all 200ms;\n    align-items: center;\n    border-radius: 3000px;\n    width: 350px;\n    max-width: 100%;\n}\n\n    .trbv-select-list-item:hover, .trbv-select-list-item.selected {\n        background-color: lightgray;\n    }\n\n    .trbv-select-list-item .selected-icon {\n        flex: 1 1 0%;\n        opacity: 0;\n        transition: all 200ms;\n        display:flex;\n        justify-content: flex-end\n    }\n\n    .trbv-select-list-item:hover .selected-icon {\n        opacity: 1;\n    }\n    .trbv-select-list-item.selected .selected-icon {\n        color: green;\n        opacity: 1;\n    }\n.dialog-z-index {\n    z-index: 3001;\n}",""]);const i=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",n=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),n&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),n&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,n,r,l){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&o[d[0]]||(void 0!==l&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=l),a&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=a):d[2]=a),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},379:e=>{"use strict";var t=[];function a(e){for(var a=-1,n=0;n<t.length;n++)if(t[n].identifier===e){a=n;break}return a}function n(e,n){for(var l={},o=[],i=0;i<e.length;i++){var s=e[i],c=n.base?s[0]+n.base:s[0],d=l[c]||0,u="".concat(c," ").concat(d);l[c]=d+1;var m=a(u),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==m)t[m].references++,t[m].updater(p);else{var f=r(p,n);n.byIndex=i,t.splice(i,0,{identifier:u,updater:f,references:1})}o.push(u)}return o}function r(e,t){var a=t.domAPI(t);return a.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,r){var l=n(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<l.length;o++){var i=a(l[o]);t[i].references--}for(var s=n(e,r),c=0;c<l.length;c++){var d=a(l[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}l=s}}},569:e=>{"use strict";var t={};e.exports=function(e,a){var n=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(a)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,a)=>{"use strict";e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var n="";a.supports&&(n+="@supports (".concat(a.supports,") {")),a.media&&(n+="@media ".concat(a.media," {"));var r=void 0!==a.layer;r&&(n+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),n+=a.css,r&&(n+="}"),a.media&&(n+="}"),a.supports&&(n+="}");var l=a.sourceMap;l&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},722:(e,t,a)=>{const n=a(905).R;t.s=function(e){if(e||(e=1),!a.y.meta||!a.y.meta.url)throw console.error("__system_context__",a.y),Error("systemjs-webpack-interop was provided an unknown SystemJS context. Expected context.meta.url, but none was provided");a.p=n(a.y.meta.url,e)}},905:(e,t,a)=>{t.R=function(e,t){var a=document.createElement("a");a.href=e;for(var n="/"===a.pathname[0]?a.pathname:"/"+a.pathname,r=0,l=n.length;r!==t&&l>=0;)"/"===n[--l]&&r++;if(r!==t)throw Error("systemjs-webpack-interop: rootDirectoryLevel ("+t+") is greater than the number of directories ("+r+") in the URL path "+e);var o=n.slice(0,l+1);return a.protocol+"//"+a.host+o};Number.isInteger},952:e=>{"use strict";e.exports=a},271:e=>{"use strict";e.exports=n},954:e=>{"use strict";e.exports=r}},l={};function o(t){var a=l[t];if(void 0!==a)return a.exports;var n=l[t]={id:t,exports:{}};return e[t](n,n.exports,o),n.exports}o.y=t,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="",o.nc=void 0;var i={};return(0,o(722).s)(1),(()=>{"use strict";o.r(i),o.d(i,{TransformableViewObjectsFormComponent:()=>A,TransformableViewPageTemplate:()=>N});var e=o(952),t=o(271),a=o(954),n=o(379),r=o.n(n),l=o(795),s=o.n(l),c=o(569),d=o.n(c),u=o(565),m=o.n(u),p=o(216),f=o.n(p),g=o(589),y=o.n(g),C=o(531),v={};v.styleTagTransform=y(),v.setAttributes=m(),v.insert=d().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(C.Z,v),C.Z&&C.Z.locals&&C.Z.locals;const b=(e,t)=>{const{type:a,data:n}=t,r={...e};switch(a){case"categorySet":r.categories=[...r.categories];const e=r.categories.findIndex((e=>e.transformableViewCategoryID==n.transformableViewCategoryID));e>-1?r.categories[e]=n:r.categories.push(n),r.selectedCategory=null;break;case"categorySelect":r.selectedCategory=n;break;case"categoryDelete":r.categories=r.categories.filter((e=>e.transformableViewCategoryID!=n));break;case"setDialog":r.dialogOptions=n.dialogOptions,r.selectedCategory=n.selectCategory;break;case"categoriesSet":r.categories=[...r.categories];for(const e of n){const t=r.categories.findIndex((t=>t.transformableViewCategoryID==e.transformableViewCategoryID));t>-1?r.categories[t]=e:r.categories.push(e)}}return r},E={isOpen:!1,headline:"",message:""},h=(0,a.createContext)({setCurrentCategory:e=>{},setCategory:e=>{},setCategories:e=>{},deleteCategory:e=>{},setDialog:e=>{},dialogOptions:E,categories:[]}),w=()=>{const{setCategory:e,deleteCategory:n,dialogOptions:r,setDialog:l,selectedCategory:o}=(0,a.useContext)(h),[i,s]=(0,a.useState)("");(0,a.useEffect)((()=>{s(o?.transformableViewCategoryDisplayName??"")}),[o]);const c=()=>{l({dialogOptions:{...r,isOpen:!1},selectCategory:null})};return a.default.createElement(t.Dialog,{isOpen:r.isOpen,headline:r.headline,onClose:c,isDismissable:!0,headerCloseButton:{tooltipText:"Close Dialog"},confirmAction:{label:"Okay",onClick:()=>{"setCategory"==r.type&&o?e({...o,transformableViewCategoryDisplayName:i}):"deleteCategory"==r.type&&o&&n(o.transformableViewCategoryID??-1),l({dialogOptions:{...r,isOpen:!1},selectCategory:null})}},cancelAction:{label:"Cancel",onClick:c}},"setCategory"==r.type&&a.default.createElement(t.Input,{label:"Display Name",value:i,onChange:e=>s(e.currentTarget.value)}),r.message)},x=({selected:e,category:n,hovered:r})=>{const{setDialog:l,dialogOptions:o}=(0,a.useContext)(h);return a.default.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},a.default.createElement(t.TreeNodeLeadingIcon,{isSelected:e,draggable:!0},a.default.createElement(t.Icon,{name:r?"xp-dots-vertical":"xp-parent-child-scheme"})),a.default.createElement(t.TreeNodeTitle,{isSelected:e},n.transformableViewCategoryDisplayName),r&&a.default.createElement(a.default.Fragment,null,a.default.createElement(t.TreeNodeTrailingIcon,null,a.default.createElement("span",{className:"icon-clickable",onClick:e=>{e.stopPropagation(),l({dialogOptions:{...o,isOpen:!0,type:"setCategory",headline:"Update Category",message:""},selectCategory:n})}},a.default.createElement(t.Icon,{name:"xp-edit"}))),a.default.createElement(t.TreeNodeTrailingIcon,null,a.default.createElement("span",{className:"icon-clickable add",onClick:e=>{var t;e.stopPropagation(),t={transformableViewCategoryDisplayName:"",transformableViewCategoryParentID:n.transformableViewCategoryID},l({dialogOptions:{...o,isOpen:!0,type:"setCategory",headline:"Add Category",message:"Add category to parent category: "+n.transformableViewCategoryDisplayName},selectCategory:t})}},a.default.createElement(t.Icon,{name:"xp-plus-circle"}))),a.default.createElement(t.TreeNodeTrailingIcon,null,a.default.createElement("span",{className:"icon-clickable delete",onClick:e=>{e.stopPropagation(),l({dialogOptions:{...o,isOpen:!0,type:"deleteCategory",headline:"Delete Category",message:"Delete category: "+n.transformableViewCategoryDisplayName},selectCategory:n})}},a.default.createElement(t.Icon,{name:"xp-minus-circle"})))))},D=({category:e,level:n})=>{const{dialogOptions:r,setDialog:l,setCategories:o,categories:i,setCategory:s,setCurrentCategory:c}=(0,a.useContext)(h),[d,u]=(0,a.useState)((e.children?.length??0)>0);return(0,a.useEffect)((()=>{!d&&(e.children?.length??0)>0&&u(!0)}),[e.children?.length]),a.default.createElement(t.TreeNode,{name:e.transformableViewCategoryName??"",hasChildren:(e.children?.length??0)>0,dropHandler:(e,a,n)=>{var r=i.find((t=>""+t.transformableViewCategoryID==e)),l=i.find((e=>""+e.transformableViewCategoryID==a));if(n==t.DropPlacement.Child)r&&l&&(r.transformableViewCategoryParentID=l.transformableViewCategoryID,s(r));else if(l){var c=l,d=i.filter((e=>e.transformableViewCategoryParentID==c.transformableViewCategoryParentID&&e.transformableViewCategoryID!=r?.transformableViewCategoryID)).sort(((e,t)=>(e.transformableViewCategoryOrder??0)-(t.transformableViewCategoryOrder??0))),u=d.findIndex((e=>e.transformableViewCategoryID==c.transformableViewCategoryID));if(n==t.DropPlacement.Below&&u++,r&&l){r.transformableViewCategoryParentID=l.transformableViewCategoryParentID;var m=[...d.slice(0,u),r,...d.slice(u)];o(m)}}},nodeIdentifier:e.transformableViewCategoryID?.toString()??"",isDraggable:!0,isToggleable:(e.children?.length??0)>0,onNodeToggle:e=>u(e),isExpanded:d,onNodeClick:()=>{c(e)},renderNode:(t,n,r)=>r&&r(a.default.createElement("div",null,a.default.createElement(x,{selected:t,category:e,hovered:n})),{}),level:n},e.children&&e.children.map((e=>a.default.createElement(D,{key:e.transformableViewCategoryID,category:e,level:n+1}))))},I=D,T=()=>{const{categories:e,setDialog:n,dialogOptions:r}=(0,a.useContext)(h),l=(0,a.useMemo)((()=>(e=>(e.forEach((t=>{t.children=e.filter((e=>e.transformableViewCategoryParentID===t.transformableViewCategoryID)).sort(((e,t)=>(e.transformableViewCategoryOrder??0)-(t.transformableViewCategoryOrder??0)))})),e.filter((e=>!e.transformableViewCategoryParentID)).sort(((e,t)=>(e.transformableViewCategoryOrder??0)-(t.transformableViewCategoryOrder??0)))))(e)),[e]);return a.default.createElement(t.TreeView,null,a.default.createElement(t.TreeNode,{name:"",hasChildren:!0,nodeIdentifier:"",isDraggable:!0,dropHandler:()=>{},isToggleable:!1,isExpanded:!0,renderNode:(e,l)=>a.default.createElement(a.default.Fragment,null,a.default.createElement(t.TreeNodeLeadingIcon,{isSelected:e,draggable:!1},a.default.createElement(t.Icon,{name:"xp-parent-child-scheme"})),a.default.createElement(t.TreeNodeTitle,{isSelected:e},"Root Category"),l&&a.default.createElement(t.TreeNodeTrailingIcon,null,a.default.createElement("span",{className:"icon-clickable add",style:{marginRight:5},onClick:e=>{e.stopPropagation(),n({dialogOptions:{...r,isOpen:!0,type:"setCategory",headline:"Add Category",message:""},selectCategory:{transformableViewCategoryDisplayName:""}})}},a.default.createElement(t.Icon,{name:"xp-plus-circle"})))),level:0},l.map((e=>a.default.createElement(I,{key:e.transformableViewCategoryID,category:e,level:1})))))},V=({selectedView:e,setViewsCommand:n,open:r,closeDialog:l})=>{const[o,i]=(0,a.useState)(e?.transformableViewDisplayName),[s,c]=(0,a.useState)(e?.transformableViewContent),d=()=>{l()};return a.default.createElement(t.Dialog,{isOpen:r,headline:"Edit View",onClose:d,isDismissable:!0,headerCloseButton:{tooltipText:"Close Dialog"},confirmAction:{label:"Okay",onClick:()=>{e&&n({...e,transformableViewDisplayName:o??"",transformableViewContent:s??""}),l()}},cancelAction:{label:"Cancel",onClick:d}},a.default.createElement("div",{style:{paddingBottom:20}},a.default.createElement(t.Input,{label:"Display Name",value:o,onChange:e=>i(e.currentTarget.value)})),a.default.createElement("div",null,a.default.createElement(t.TextWithLabel,{label:"View Editor",value:'<div><span style="color: #af00db;">@addTagHelper</span> <span style="color: #a31515;">*, Microsoft.AspNetCore.Mvc.TagHelpers</span></div><div><span style="color: #af00db;">@model</span> <span style="color: #267f99;">HBS</span><span style="color: #000000;">.</span><span style="color: #267f99;">Xperience</span><span style="color: #000000;">.</span><span style="color: #267f99;">TransformableViews</span><span style="color: #000000;">.</span><span style="color: #267f99;">Models</span><span style="color: #000000;">.</span><span style="color: #267f99;">TransformableViewModel</span></div>',valueAsHtml:!0}),a.default.createElement(t.CodeEditor,{style:{maxWidth:"100%",width:"1000px"},language:"html",value:s,onChange:e=>c(e),explanationText:'\n                TransformableViewModel contains the following properties:  <span style="color: #0000ff;">string</span> <span style="color: #001080;">ViewTitle</span>,  <span style="color: #0000ff;">string</span> <span style="color: #001080;">ViewClassNames</span>,  <span style="color: #0000ff;">string</span> <span style="color: #001080;">ViewCustomContent</span>,  <span style="color: #0000ff;"><span style="color: #0000ff;">IEnumerable&lt;</span></span><span style="color: #800000;">dynamic</span><span style="color: #0000ff;">&gt;</span> <span style="color: #001080;">Items</span>.<br/>  You can reference them like a normal view using <span style="color: #af00db;">@</span><span style="color: #001080;">Model</span><span style="color: #000000;">.</span><span style="color: #001080;">Items</span>\n            ',explanationTextAsHtml:!0})))},S=({categoryID:n})=>{const[r,l]=(0,a.useState)([]),[o,i]=(0,a.useState)(!1),[s,c]=(0,a.useState)(),[d,u]=(0,a.useState)(),[m,p]=(0,a.useState)(3),{width:f}=(0,t.useWindowDimensions)();(0,a.useEffect)((()=>{p(f>800?3:1)}),[f]);const{execute:g}=(0,e.usePageCommand)("GetViews",{after:e=>{e&&l(e)}});(0,a.useEffect)((()=>{g(n)}),[n]);const{execute:y}=(0,e.usePageCommand)("SetView",{after:e=>{e&&g(n)}}),{execute:C}=(0,e.usePageCommand)("DeleteView",{after:e=>{e&&g(n)}}),v=e=>{c(e),i(!0)};return a.default.createElement("div",null,a.default.createElement("div",{style:{paddingBottom:20}},a.default.createElement(t.Row,null,a.default.createElement(t.Column,null,a.default.createElement(t.Row,{spacing:t.Spacing.L},a.default.createElement(t.Column,{cols:t.Cols.Col2},a.default.createElement(t.Button,{fillContainer:!0,label:"Add View",color:t.ButtonColor.Primary,onClick:()=>v({transformableViewContent:"",transformableViewDisplayName:"",transformableViewTransformableViewCategoryID:n})})),a.default.createElement(t.Column,null,a.default.createElement(t.Input,{placeholder:"Search",value:d,type:"text",onChange:e=>u(e.currentTarget.value),clearButton:a.default.createElement("span",{onClick:()=>u(void 0)},a.default.createElement(t.Icon,{name:"xp-modal-close"}))})))))),a.default.createElement("div",{style:{paddingBottom:20}},a.default.createElement(t.Divider,{orientation:t.DividerOrientation.Horizontal})),a.default.createElement(t.Grid,{cols:3,columnGap:t.Spacing.L},r.map((e=>a.default.createElement("div",{className:"grid-view-item",onClick:()=>v(e)},a.default.createElement("span",{style:{paddingRight:8}},a.default.createElement(t.Icon,{name:"xp-layout"})),e.transformableViewDisplayName,a.default.createElement("span",{style:{float:"right",color:"red",flex:1}},a.default.createElement("span",{onClick:t=>{t.stopPropagation(),C(e.transformableViewID)},style:{float:"right"}},a.default.createElement(t.Icon,{name:"xp-bin"}))))))),o&&a.default.createElement(V,{open:o,selectedView:s,setViewsCommand:y,closeDialog:()=>i(!1)}))},N=({categories:n})=>{const[r,l]=(0,a.useReducer)(b,{categories:n,dialogOptions:E}),o=(0,a.useRef)(null);(0,a.useEffect)((()=>{o&&o.current&&(o.current.style.height="100%")}),[o.current]);const{execute:i}=(0,e.usePageCommand)("SetCategory",{after:e=>{e&&l({type:"categorySet",data:e})}}),{execute:s}=(0,e.usePageCommand)("SetCategories",{after:e=>{e&&l({type:"categoriesSet",data:e})}}),{execute:c}=(0,e.usePageCommand)("DeleteCategory",{after:e=>{e&&l({type:"categoryDelete",data:e})}});return a.default.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},a.default.createElement("div",{style:{paddingBottom:20}},a.default.createElement(t.Headline,{size:t.HeadlineSize.M},"Transformable Views")),a.default.createElement("div",{style:{flex:1}},a.default.createElement(h.Provider,{value:{setCategory:e=>{if(e.transformableViewCategoryID)l({type:"categorySet",data:e});else{r.categories.filter((t=>t.transformableViewCategoryParentID==e.transformableViewCategoryParentID));var t=Math.max(...n.map((e=>e.transformableViewCategoryOrder??0)),0);e.transformableViewCategoryOrder=t+1}i(e)},setCategories:e=>{var t=e.map(((e,t)=>(e.transformableViewCategoryOrder=t,e)));l({type:"categoriesSet",data:e}),s(t)},deleteCategory:e=>{c(e)},setCurrentCategory:e=>{l({type:"categorySelect",data:e})},dialogOptions:r.dialogOptions,setDialog:e=>{l({type:"setDialog",data:e})},categories:r.categories,selectedCategory:r.selectedCategory}},a.default.createElement(t.Row,{ref:o},a.default.createElement(t.Column,{cols:t.Cols.Col3,className:"treeview-wrapper"},a.default.createElement(t.Paper,{fullHeight:!0},a.default.createElement("div",{style:{padding:20}},a.default.createElement("div",{style:{paddingBottom:20}},a.default.createElement(t.Headline,{size:t.HeadlineSize.S},"Categories")),a.default.createElement("div",{style:{paddingBottom:20}},a.default.createElement(t.Divider,{orientation:t.DividerOrientation.Horizontal})),a.default.createElement(T,null)))),a.default.createElement(t.Column,{cols:t.Cols.Col9,className:"views-wrapper"},a.default.createElement(t.Paper,{fullHeight:!0},a.default.createElement("div",{style:{padding:20}},a.default.createElement("div",{style:{paddingBottom:20}},a.default.createElement(t.Headline,{size:t.HeadlineSize.S},"Views")),a.default.createElement("div",{style:{paddingBottom:20}},a.default.createElement(t.Divider,{orientation:t.DividerOrientation.Horizontal})),r.selectedCategory&&r.selectedCategory.transformableViewCategoryID&&a.default.createElement(S,{categoryID:r.selectedCategory.transformableViewCategoryID}))))),r.selectedCategory&&a.default.createElement(w,null))))};var k=o(404),O={};O.styleTagTransform=y(),O.setAttributes=m(),O.insert=d().bind(null,"head"),O.domAPI=s(),O.insertStyleElement=f(),r()(k.Z,O),k.Z&&k.Z.locals&&k.Z.locals;const P=({value:n,onSelect:r,open:l,closeDialog:o,props:i})=>{const[s,c]=(0,a.useState)(n),[d,u]=(0,a.useState)(),[m,p]=(0,a.useState)([]),{executeCommand:f}=(0,e.useFormComponentCommandProvider)();(0,a.useEffect)((()=>{f&&f(i,"GetObjectTypes").then((e=>{e&&p(e)}))}),[f]);const g=(0,a.useMemo)((()=>d&&0!=d.length?m.filter((e=>e.text.toLowerCase().indexOf(d.toLowerCase())>-1)):m),[d,m]);return a.default.createElement(t.Dialog,{isOpen:l,headline:"Select Types",overlayClassName:"dialog-z-index",onOverlayClick:e=>e.preventDefault(),onClose:o,isDismissable:!0,headerCloseButton:{tooltipText:"Close Dialog"},confirmAction:{label:"Okay",onClick:()=>{r(s),o()}},cancelAction:{label:"Cancel",onClick:o}},a.default.createElement("div",{style:{paddingBottom:0}},a.default.createElement(t.Input,{placeholder:"(Filter)",value:d,onChange:e=>u(e.currentTarget.value)})),a.default.createElement("div",null,g.map((e=>a.default.createElement("div",{key:e.value,onClick:()=>c(e.value),className:"trbv-select-list-item"+(e.value==s?" selected":"")},a.default.createElement("span",null,a.default.createElement(t.Icon,{name:"xp-chevron-right-circle"})),a.default.createElement("span",null,e.text),a.default.createElement("span",{className:"selected-icon"},a.default.createElement(t.Icon,{name:"xp-check-circle"})))))))},B=({value:n,onSelect:r,open:l,closeDialog:o,props:i})=>{const[s,c]=(0,a.useState)(n),[d,u]=(0,a.useState)(),[m,p]=(0,a.useState)([]),{executeCommand:f}=(0,e.useFormComponentCommandProvider)();(0,a.useEffect)((()=>{f&&f(i,"GetViews").then((e=>{e&&p(e)}))}),[f]);const g=(0,a.useMemo)((()=>d&&0!=d.length?m.filter((e=>e.text.toLowerCase().indexOf(d.toLowerCase())>-1)):m),[d,m]);return a.default.createElement(t.Dialog,{isOpen:l,headline:"Select Views",overlayClassName:"dialog-z-index",onOverlayClick:e=>(e.preventDefault(),!1),onClose:o,isDismissable:!0,headerCloseButton:{tooltipText:"Close Dialog"},confirmAction:{label:"Okay",onClick:()=>{r(s),o()}},cancelAction:{label:"Cancel",onClick:o}},a.default.createElement("div",{style:{paddingBottom:0}},a.default.createElement(t.Input,{placeholder:"(Filter)",value:d,onChange:e=>u(e.currentTarget.value)})),a.default.createElement("div",null,g.map((e=>a.default.createElement("div",{key:e.value,onClick:()=>c(e.value),className:"trbv-select-list-item"+(e.value==s?" selected":"")},a.default.createElement("span",null,a.default.createElement(t.Icon,{name:"xp-chevron-right-circle"})),a.default.createElement("span",null,e.text),a.default.createElement("span",{className:"selected-icon"},a.default.createElement(t.Icon,{name:"xp-check-circle"})))))))},A=n=>{const[r,l]=(0,a.useState)([]),[o,i]=(0,a.useState)(!1),[s,c]=(0,a.useState)(!1),d=(0,a.useMemo)((()=>n.value),[n.value]),u=e=>{n.onChange&&n.onChange(e)},{executeCommand:m}=(0,e.useFormComponentCommandProvider)();return(0,a.useEffect)((()=>{m&&m(n,"GetViews").then((e=>{e&&l(e)}))}),[m]),a.default.createElement(t.FormItemWrapper,{label:n.label,explanationText:n.explanationText,invalid:n.invalid,validationMessage:n.validationMessage,markAsRequired:n.required,labelIcon:n.tooltip?"xp-i-circle":void 0,labelIconTooltip:n.tooltip,childrenWrapperClassnames:"transformable-view-component"},a.default.createElement("div",{style:{paddingBottom:15}},a.default.createElement("div",{style:{paddingBottom:10}},a.default.createElement(t.Input,{label:"Class Name",value:d.className,onChange:e=>u({...d,className:e.currentTarget.value})})),a.default.createElement(t.Button,{label:"Select Class Name",color:t.ButtonColor.Primary,onClick:()=>i(!0)})),a.default.createElement("div",{style:{paddingBottom:15}},a.default.createElement(t.Input,{label:"Columns",value:d.columns,onChange:e=>u({...d,columns:e.currentTarget.value})})),a.default.createElement("div",{style:{paddingBottom:15}},a.default.createElement(t.Input,{label:"Where Condition",value:d.whereCondition,onChange:e=>u({...d,whereCondition:e.currentTarget.value})})),a.default.createElement("div",{style:{paddingBottom:15}},a.default.createElement(t.Input,{label:"Order By",value:d.orderBy,onChange:e=>u({...d,orderBy:e.currentTarget.value})})),a.default.createElement("div",{style:{paddingBottom:15}},a.default.createElement(t.Input,{type:"number",label:"Top Number",value:d.topN,onChange:e=>u({...d,topN:e.currentTarget.valueAsNumber})})),a.default.createElement("div",{style:{paddingBottom:15}},a.default.createElement("div",{style:{paddingBottom:10}},a.default.createElement(t.Input,{label:"View",value:d.view,onChange:e=>u({...d,view:e.currentTarget.value})})),a.default.createElement(t.Button,{label:"Select View",color:t.ButtonColor.Primary,onClick:()=>c(!0)})),a.default.createElement("div",{style:{paddingBottom:15}},a.default.createElement(t.Input,{label:"View Title",value:d.viewTitle,onChange:e=>u({...d,viewTitle:e.currentTarget.value})})),a.default.createElement("div",{style:{paddingBottom:15}},a.default.createElement(t.Input,{label:"View Class Names",value:d.viewClassNames,onChange:e=>u({...d,viewClassNames:e.currentTarget.value})})),a.default.createElement("div",{style:{paddingBottom:0}},a.default.createElement(t.TextArea,{label:"View Custom Content",value:d.viewCustomContent,onChange:e=>u({...d,viewCustomContent:e.currentTarget.value})})),a.default.createElement("div",{style:{zIndex:999999999}},a.default.createElement(t.WindowPortal,null,o&&a.default.createElement(P,{open:o,props:n,onSelect:e=>u({...d,className:e}),closeDialog:()=>i(!1),value:d.className}),s&&a.default.createElement(B,{open:s,props:n,onSelect:e=>u({...d,view:e}),closeDialog:()=>c(!1),value:d.view}))))}})(),i})())}}}));